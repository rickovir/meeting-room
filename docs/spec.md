# MVP Spec: MeetSpace - Meeting Room Booking

## 1. Project Overview

**Goal:** To create a minimum viable product (MVP) for a meeting room management system. This app will allow users to sign up, view available meeting rooms, and book them for specific time slots.

**Core Problem to Solve:** Eliminate double-bookings and provide a simple, visual way for employees to reserve a meeting space.

## 2. MVP Core Features (User Stories)

*   **Authentication:**
    *   As a new user, I want to sign up with my email and a password.
    *   As a returning user, I want to log in to the application.
    *   As a logged-in user, I want to be able to log out.

*   **View Rooms & Availability:**
    *   As a user, I want to see a list of all available meeting rooms.
    *   As a user, I want to see a simple daily or weekly calendar view for a selected room to understand its availability.

*   **Book a Room:**
    *   As a user, I want to click on an available time slot in the calendar to open a booking form.
    *   As a user, I want to book a room by providing a title for the meeting.
    *   As a user, I want to see my new booking appear on the calendar immediately.

*   **Manage My Bookings:**
    *   As a user, I want to see a list of all my current bookings.
    *   As a user, I want to be able to cancel one of my bookings.

## 3. Technical Stack

*   **Frontend:** Next.js 14 (App Router), TypeScript, Tailwind CSS
*   **UI Components:** shadcn/ui
*   **Backend:** Supabase (Database, Auth, API)
*   **Forms:** React Hook Form + Zod for validation

## 4. Database Schema (Supabase)

This is the simplest schema to support the MVP features.

```sql
-- 1. Profiles Table (extends Supabase Auth)
-- Stores user-specific data.
create table public.profiles (
  id uuid not null primary key,
  updated_at timestamp with time zone,
  username text unique,
  full_name text,
  avatar_url text,
  constraint profiles_id_fkey foreign key (id) references auth.users (id) on delete cascade
);

-- 2. Rooms Table
-- Stores information about each meeting room.
create table public.rooms (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default now() not null,
  name text not null,
  location text,
  capacity integer
);

-- 3. Bookings Table
-- The core table connecting users and rooms.
create table public.bookings (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default now() not null,
  start_time timestamp with time zone not null,
  end_time timestamp with time zone not null,
  title text not null,
  -- Foreign Keys
  user_id uuid references public.profiles (id) on delete cascade,
  room_id bigint references public.rooms (id) on delete cascade
);

-- Enable RLS (Row Level Security)
alter table public.profiles enable row level security;
alter table public.rooms enable row level security;
alter table public.bookings enable row level security;
```

## 5. Key UI Components & Pages (shadcn/ui)

*   **`/login` & `/signup` Pages:**
    *   `Card`, `Input`, `Button`, `Label`, `Form`.
    *   Simple forms for authentication.

*   **`/dashboard` (Main Page):**
    *   **Layout:** A two-column layout.
        *   **Left Column:** List of all `rooms`. Use `Card` for each room, showing its name and capacity. Use `Badge` to show if it's "Available" or "Busy".
        *   **Right Column:** A calendar view for the selected room. This can be a simple grid of time slots.
    *   **Booking Flow:**
        *   Clicking an empty time slot opens a `Dialog` (modal).
        *   The dialog contains a `Form` with an `Input` for the meeting title and a `Button` to "Book".
    *   **My Bookings Section:**
        *   A list at the bottom of the page or on a separate `/my-bookings` route.
        *   Use a `Table` or a simple list of `Card`s to show user's bookings.
        *   Each booking has a "Cancel" `Button`.

## 6. Security (Supabase RLS Policies)

*   **`profiles` table:**
    *   Users can view their own profile.
    *   Users can update their own profile.
*   **`rooms` table:**
    *   Everyone (public) can `SELECT` all rooms.
    *   (For MVP, we will manually insert rooms via the Supabase dashboard).
*   **`bookings` table:**
    *   Users can `INSERT` (create) new bookings.
    *   Users can `SELECT` (view) bookings where `user_id` matches their own ID.
    *   Users can `DELETE` bookings where `user_id` matches their own ID.

## 7. MVP Success Criteria

The MVP is considered complete when:

- [ ] A new user can register and log in.
- [ ] A logged-in user can see a list of all meeting rooms.
- [ ] Selecting a room shows its daily schedule.
- [ ] A user can click an available time slot and successfully book it.
- [ ] The new booking is visible on the calendar immediately.
- [ ] A user can view a list of their own bookings.
- [ ] A user can successfully cancel their own booking. 
